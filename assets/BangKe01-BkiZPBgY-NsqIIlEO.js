import{H as I,p as f,Z as V,s as u,F as Z,X as P,f as l,_ as h,z as c,x as d,a as p,k as T,l as t,W as z,e as o}from"./index-BlQ72HjR.js";const F={class:"container"},J={class:"row"},O={class:"ms-sm-auto px-4 pt-4"},Q={class:"card p-3 mb-4 shadow-sm"},R={class:"row g-3 align-items-end"},Y={class:"col-md-2 col-sm-6"},aa={class:"col-md-2 col-sm-6"},la={class:"col-md-3 col-lg-2 col-sm-6"},_a=["value"],na={class:"col-md-3 col-lg-2 col-sm-6"},ea=["disabled"],ta=["value"],sa={class:"col-md-3 col-lg-2 col-sm-6"},ua=["disabled"],oa=["value"],ia={class:"col-md-3 col-lg-2 col-sm-6"},ga=["disabled"],ma=["value"],fa={class:"col-md-3 col-lg-2 col-sm-6"},ha=["disabled"],ca=["value"],va={class:"col-md-6 col-lg-4 d-flex align-items-end justify-content-end"},ra={class:"input-group flex-grow-1 me-2"},da=["value"],pa={class:"table-responsive"},ba={class:"table table-bordered table-hover caption-top"},ya={class:"text-center"},Ta={class:"text-center"},xa={class:"text-center"},ka={class:"text-center"},Ha={key:0},Xa={__name:"BangKe01",setup(Da){const _=f({kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"05",maDiaBan:"011-long hau 4"}),w=f([{ma:"87",ten:"Đồng Tháp"},{ma:"88",ten:"Long An"},{ma:"89",ten:"An Giang"}]),v=f([]),m=f([]),g=f([]),i=f([]),x=f([]),M=V(()=>x.value.filter(e=>e.ma_tinh===_.value.maTinh&&e.ma_huyen===_.value.maHuyen&&e.ma_xa===_.value.maXa&&e.ma_thon===_.value.maThon&&e.dia_ban_ma===_.value.maDiaBan).length),k=V(()=>{let e=x.value;return _.value.kyDieuTra&&(e=e.filter(a=>a.ky_dieu_tra===_.value.kyDieuTra)),_.value.nam&&(e=e.filter(a=>a.nam===_.value.nam)),_.value.maTinh&&(e=e.filter(a=>a.ma_tinh===_.value.maTinh)),_.value.maHuyen&&(e=e.filter(a=>a.ma_huyen===_.value.maHuyen)),_.value.maXa&&(e=e.filter(a=>a.ma_xa===_.value.maXa)),_.value.maThon&&(e=e.filter(a=>a.ma_thon===_.value.maThon)),_.value.maDiaBan&&(e=e.filter(a=>a.dia_ban_ma===_.value.maDiaBan)),e});function b(e,a){const n=[{key:`${a}_1_9`,label:"1-9"},{key:`${a}_10_29`,label:"10-29"},{key:`${a}_50_199`,label:"50-199"},{key:`${a}_200_499`,label:"200-499"},{key:`${a}_500_plus`,label:">=500"}];for(const r of n)if(e[r.key])return r.label;return""}const y=(e,a=300)=>new Promise(n=>setTimeout(()=>n(e),a));async function X(){if(_.value.maHuyen="",_.value.maXa="",_.value.maThon="",_.value.maDiaBan="",m.value=[],g.value=[],i.value=[],_.value.maTinh){const e=await y([{ma:"870",ten:"Huyện Hồng Ngự",ma_tinh:"87"},{ma:"871",ten:"Huyện Tam Nông",ma_tinh:"87"},{ma:"880",ten:"TP Tân An",ma_tinh:"88"}].filter(a=>a.ma_tinh===_.value.maTinh));v.value=e,v.value.length>0&&(_.value.maHuyen=v.value[0].ma,D())}else v.value=[]}async function D(){if(_.value.maXa="",_.value.maThon="",_.value.maDiaBan="",g.value=[],i.value=[],_.value.maHuyen){const e=await y([{ma:"29980",ten:"Xã Long Khánh A",ma_huyen:"870"},{ma:"29981",ten:"Xã Long Khánh B",ma_huyen:"870"},{ma:"30000",ten:"Thị trấn Tràm Chim",ma_huyen:"871"},{ma:"30001",ten:"Xã Phú Cường",ma_huyen:"871"},{ma:"30100",ten:"Phường 1",ma_huyen:"880"}].filter(a=>a.ma_huyen===_.value.maHuyen));m.value=e,m.value.length>0&&(_.value.maXa=m.value[0].ma,B())}else m.value=[]}async function B(){if(_.value.maThon="",_.value.maDiaBan="",i.value=[],_.value.maXa){const e=await y([{ma:"05",ten:"Long Phước",ma_xa:"29980"},{ma:"06",ten:"Long Thạnh",ma_xa:"29980"},{ma:"01",ten:"Ấp 1",ma_xa:"29981"},{ma:"02",ten:"Ấp 2",ma_xa:"29981"}].filter(a=>a.ma_xa===_.value.maXa));g.value=e,g.value.length>0&&(_.value.maThon=g.value[0].ma,C())}else g.value=[]}async function C(){if(_.value.maDiaBan="",_.value.maThon){const e=await y([{ma:"011-long hau 4",ten:"011-long hau 4",ma_thon:"05"},{ma:"012-long hau 5",ten:"012-long hau 5",ma_thon:"05"},{ma:"013-long thanh",ten:"013-long thanh",ma_thon:"06"}].filter(a=>a.ma_thon===_.value.maThon));i.value=e,i.value.length>0&&(_.value.maDiaBan=i.value[0].ma)}else i.value=[]}async function H(){console.log("Đang lấy dữ liệu hộ với các bộ lọc:",_.value);const e=[{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0001",ho_ten_chu_ho:"Nguyễn Thị Mèn",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0002",ho_ten_chu_ho:"Hồ Thị Nhảnh",loi_thong_tin:{lon_1_9:!1,lon_10_29:!0,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!0,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0003",ho_ten_chu_ho:"Nguyễn Văn Tuấn",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!0,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0004",ho_ten_chu_ho:"Nguyễn Văn Đông",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0005",ho_ten_chu_ho:"Hồ Văn Hiển",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!0,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0006",ho_ten_chu_ho:"Bùi Thị Dõi",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!0,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0007",ho_ten_chu_ho:"Phạm Văn Bồng",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!0,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0008",ho_ten_chu_ho:"Nguyễn Văn Triệu",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!0,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0009",ho_ten_chu_ho:"Nguyễn Văn Lâm",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!0,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0010",ho_ten_chu_ho:"Lê Văn Phương",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},...Array.from({length:50},(a,n)=>{const r=String(n+11).padStart(4,"0"),A=Math.random()<.5,E=Math.random()<.5,K=Math.random()<.5,q=Math.random()<.5,S=()=>{if(!A)return{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1};const s=Math.random();return s<.2?{lon_1_9:!0}:s<.4?{lon_10_29:!0}:s<.6?{lon_50_199:!0}:s<.8?{lon_200_499:!0}:{lon_500_plus:!0}},W=()=>{if(!E)return{ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1};const s=Math.random();return s<.2?{ga_1_9:!0}:s<.4?{ga_10_29:!0}:s<.6?{ga_50_199:!0}:s<.8?{ga_200_499:!0}:{ga_500_plus:!0}},j=()=>{if(!K)return{vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1};const s=Math.random();return s<.2?{vit_1_9:!0}:s<.4?{vit_10_29:!0}:s<.6?{vit_50_199:!0}:s<.8?{vit_200_499:!0}:{vit_500_plus:!0}},G=()=>{if(!q)return{ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1};const s=Math.random();return s<.2?{ngang_1_9:!0}:s<.4?{ngang_10_29:!0}:s<.6?{ngang_50_199:!0}:s<.8?{ngang_200_499:!0}:{ngang_500_plus:!0}};return{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:r,ho_ten_chu_ho:`Chủ Hộ Test ${r}`,loi_thong_tin:{...S(),...W(),...j(),...G()}}})];x.value=e}function N(){alert("Đang cập nhật tổng số hộ địa bàn. (Thực tế sẽ gọi API)")}function L(){alert("Xuất Excel theo Địa bàn đã chọn.")}function U(){alert("Xuất Excel theo Huyện đã chọn.")}function $(){alert("Xuất Excel theo Tỉnh đã chọn.")}return Z(()=>{X(),H()}),P(()=>_.value.maDiaBan,()=>{H()}),P(()=>_.value.maThon,()=>{_.value.maDiaBan||H()}),(e,a)=>(o(),u("div",F,[l("div",J,[l("main",O,[a[27]||(a[27]=l("h2",{class:"text-center mb-4"},"Bảng kê hộ quy mô nhỏ",-1)),l("div",Q,[l("div",R,[l("div",Y,[a[8]||(a[8]=l("label",{for:"kyDieuTra",class:"form-label"},"Kỳ điều tra",-1)),h(l("select",{"onUpdate:modelValue":a[0]||(a[0]=n=>_.value.kyDieuTra=n),class:"form-select",id:"kyDieuTra"},a[7]||(a[7]=[l("option",{value:"4"},"4",-1),l("option",{value:"3"},"3",-1),l("option",{value:"2"},"2",-1),l("option",{value:"1"},"1",-1)]),512),[[c,_.value.kyDieuTra]])]),l("div",aa,[a[10]||(a[10]=l("label",{for:"nam",class:"form-label"},"Năm",-1)),h(l("select",{"onUpdate:modelValue":a[1]||(a[1]=n=>_.value.nam=n),class:"form-select",id:"nam"},a[9]||(a[9]=[l("option",null,"2025",-1),l("option",null,"2024",-1),l("option",null,"2023",-1)]),512),[[c,_.value.nam]])]),l("div",la,[a[11]||(a[11]=l("label",{for:"tinhTp",class:"form-label"},"Tỉnh/TP",-1)),h(l("select",{"onUpdate:modelValue":a[2]||(a[2]=n=>_.value.maTinh=n),class:"form-select",id:"tinhTp",onChange:X},[(o(!0),u(d,null,p(w.value,n=>(o(),u("option",{key:n.ma,value:n.ma},t(n.ma)+" - "+t(n.ten),9,_a))),128))],544),[[c,_.value.maTinh]])]),l("div",na,[a[13]||(a[13]=l("label",{for:"quanHuyen",class:"form-label"},"Quận/Huyện",-1)),h(l("select",{"onUpdate:modelValue":a[3]||(a[3]=n=>_.value.maHuyen=n),class:"form-select",id:"quanHuyen",onChange:D,disabled:!v.value.length},[a[12]||(a[12]=l("option",{value:""},"--Chọn Huyện--",-1)),(o(!0),u(d,null,p(v.value,n=>(o(),u("option",{key:n.ma,value:n.ma},t(n.ma)+" - "+t(n.ten),9,ta))),128))],40,ea),[[c,_.value.maHuyen]])]),l("div",sa,[a[15]||(a[15]=l("label",{for:"xaPhuong",class:"form-label"},"Xã/Phường",-1)),h(l("select",{"onUpdate:modelValue":a[4]||(a[4]=n=>_.value.maXa=n),class:"form-select",id:"xaPhuong",onChange:B,disabled:!m.value.length},[a[14]||(a[14]=l("option",{value:""},"--Chọn Xã/Phường--",-1)),(o(!0),u(d,null,p(m.value,n=>(o(),u("option",{key:n.ma,value:n.ma},t(n.ma)+" - "+t(n.ten),9,oa))),128))],40,ua),[[c,_.value.maXa]])]),l("div",ia,[a[17]||(a[17]=l("label",{for:"thon",class:"form-label"},"Thôn",-1)),h(l("select",{"onUpdate:modelValue":a[5]||(a[5]=n=>_.value.maThon=n),class:"form-select",id:"thon",onChange:C,disabled:!g.value.length},[a[16]||(a[16]=l("option",{value:""},"--Chọn Thôn--",-1)),(o(!0),u(d,null,p(g.value,n=>(o(),u("option",{key:n.ma,value:n.ma},t(n.ma)+" - "+t(n.ten),9,ma))),128))],40,ga),[[c,_.value.maThon]])]),l("div",fa,[a[19]||(a[19]=l("label",{for:"diaBan",class:"form-label"},"Địa bàn",-1)),h(l("select",{"onUpdate:modelValue":a[6]||(a[6]=n=>_.value.maDiaBan=n),class:"form-select",id:"diaBan",disabled:!i.value.length},[a[18]||(a[18]=l("option",{value:""},"--Chọn Địa bàn--",-1)),(o(!0),u(d,null,p(i.value,n=>(o(),u("option",{key:n.ma,value:n.ma},t(n.ma)+" - "+t(n.ten),9,ca))),128))],8,ha),[[c,_.value.maDiaBan]])]),l("div",va,[l("div",ra,[a[20]||(a[20]=l("span",{class:"input-group-text"},"Tổng số hộ thôn/địa bàn:",-1)),l("input",{type:"text",class:"form-control",value:M.value,readonly:""},null,8,da)]),l("button",{class:"btn btn-secondary flex-shrink-0",onClick:N},a[21]||(a[21]=[l("i",{class:"bi bi-arrow-clockwise"},null,-1),T(" Cập nhật ")]))])])]),l("div",{class:"d-flex justify-content-end mb-4 flex-wrap"},[l("button",{class:"btn btn-success me-2 mb-2",onClick:L},a[22]||(a[22]=[l("i",{class:"bi bi-file-earmark-excel"},null,-1),T(" Xuất Excel theo địa bàn ")])),l("button",{class:"btn btn-success me-2 mb-2",onClick:U},a[23]||(a[23]=[l("i",{class:"bi bi-file-earmark-excel"},null,-1),T(" Xuất Excel theo Huyện ")])),l("button",{class:"btn btn-success mb-2",onClick:$},a[24]||(a[24]=[l("i",{class:"bi bi-file-earmark-excel"},null,-1),T(" Xuất Excel theo Tỉnh ")]))]),l("div",pa,[l("table",ba,[l("caption",null,"Tổng số hộ đang hiển thị: "+t(k.value.length),1),a[26]||(a[26]=l("thead",{class:"table-primary"},[l("tr",null,[l("th",{scope:"col"},"Mã Tỉnh"),l("th",{scope:"col"},"Mã Xã"),l("th",{scope:"col"},"Mã Thôn"),l("th",{scope:"col"},"Địa bàn"),l("th",{scope:"col"},"STT Hộ"),l("th",{scope:"col",style:{"min-width":"180px"}},"Họ và tên chủ hộ"),l("th",{scope:"col",class:"text-center"},"Lợn"),l("th",{scope:"col",class:"text-center"},"Gà"),l("th",{scope:"col",class:"text-center"},"Vịt"),l("th",{scope:"col",class:"text-center"},"Ngang")])],-1)),l("tbody",null,[(o(!0),u(d,null,p(k.value,(n,r)=>(o(),u("tr",{key:n.stt_ho},[l("td",null,t(n.ma_tinh),1),l("td",null,t(n.ma_xa),1),l("td",null,t(n.ma_thon),1),l("td",null,t(n.dia_ban),1),l("td",null,t(n.stt_ho),1),l("td",null,t(n.ho_ten_chu_ho),1),l("td",ya,t(b(n.loi_thong_tin,"lon")),1),l("td",Ta,t(b(n.loi_thong_tin,"ga")),1),l("td",xa,t(b(n.loi_thong_tin,"vit")),1),l("td",ka,t(b(n.loi_thong_tin,"ngang")),1)]))),128)),k.value.length===0?(o(),u("tr",Ha,a[25]||(a[25]=[l("td",{colspan:"10",class:"text-center"},"Không tìm thấy dữ liệu hộ quy mô nhỏ nào.",-1)]))):z("",!0)])])])])])]))}},Ca=I(Xa,[["__scopeId","data-v-6f7da832"]]);export{Ca as default};
