import{_ as B,r as m,c as w,i as P,j as y,a as s,b as a,w as c,v as d,F as h,g as r,e as H,d as b,t as l,f as V,o as u}from"./index-DiNfyN6S.js";const N={class:"container-fluid"},L={class:"row"},M={class:"ms-sm-auto px-4 pt-4"},A={class:"card p-3 mb-4 shadow-sm"},K={class:"row g-3 align-items-end"},U={class:"col-md-2 col-sm-6"},E={class:"col-md-2 col-sm-6"},S={class:"col-md-3 col-lg-2 col-sm-6"},G=["value"],F={class:"col-md-3 col-lg-2 col-sm-6"},Q=["disabled"],j=["value"],q={class:"col-md-3 col-lg-3 col-sm-6"},I=["disabled"],z=["value"],J={class:"col-md-auto"},O={class:"col-md-auto"},R={class:"table-responsive"},W={class:"table table-bordered table-hover caption-top"},Y={key:0},Z={class:"text-center"},$={class:"text-center"},aa={class:"text-center"},na={class:"text-center"},ea={class:"text-center"},ta={class:"text-center"},la={class:"text-center"},oa={class:"text-center"},sa={class:"text-center"},ua={class:"text-center"},_a={class:"text-center"},ia={class:"text-center"},ca={class:"text-center"},ma={class:"text-center"},da={class:"text-center"},ha={class:"text-center"},ra={__name:"CapNhatHoQuyMoNho",setup(va){const t=m({kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"",diaBan:""}),C=m([{ma:"87",ten:"Đồng Tháp"},{ma:"88",ten:"Long An"},{ma:"89",ten:"An Giang"},{ma:"92",ten:"Cần Thơ"}]),i=m([]),_=m([]),x=m([]),v=w(()=>x.value.filter(n=>(t.value.kyDieuTra===""||n.kyDieuTra===t.value.kyDieuTra)&&(t.value.nam===""||n.nam===t.value.nam)&&(t.value.maTinh===""||n.maTinh===t.value.maTinh)&&(t.value.maHuyen===""||n.maHuyen===t.value.maHuyen)&&(t.value.maXa===""||n.maXa===t.value.maXa)&&(t.value.maThon===""||n.maThon&&n.maThon.includes(t.value.maThon))&&(t.value.diaBan===""||n.diaBan&&n.diaBan.toLowerCase().includes(t.value.diaBan.toLowerCase())))),g=(o,n=100)=>new Promise(e=>setTimeout(()=>e(o),n));async function T(){if(t.value.maHuyen="",t.value.maXa="",i.value=[],_.value=[],t.value.maTinh){const o=[{ma:"870",ten:"Hồng Ngự",ma_tinh:"87"},{ma:"871",ten:"Tam Nông",ma_tinh:"87"},{ma:"880",ten:"TP Tân An",ma_tinh:"88"},{ma:"881",ten:"Thủ Thừa",ma_tinh:"88"},{ma:"890",ten:"TP Long Xuyên",ma_tinh:"89"},{ma:"891",ten:"Châu Đốc",ma_tinh:"89"}];i.value=await g(o.filter(n=>n.ma_tinh===t.value.maTinh)),t.value.maTinh==="87"&&i.value.some(n=>n.ma==="870")?t.value.maHuyen="870":i.value.length>0&&(t.value.maHuyen=i.value[0].ma)}}async function p(){if(t.value.maXa="",_.value=[],t.value.maHuyen){const o={870:[{ma:"29956",ten:"Xã Thường Phước 1"},{ma:"29962",ten:"Xã Thường Thới Hậu A"},{ma:"29967",ten:"Xã Thường Phước 2"},{ma:"29971",ten:"Thị trấn Thường Thới Tiền"},{ma:"29974",ten:"Xã Thường Lạc"},{ma:"29977",ten:"Xã Long Thuận"},{ma:"29980",ten:"Xã Long Khánh A"},{ma:"29983",ten:"Xã Long Khánh B"},{ma:"29992",ten:"Xã Phú Thuận B"},{ma:"29995",ten:"Xã Phú Thuận A"},{ma:"29998",ten:"Xã Phú Thuận"}],871:[{ma:"30000",ten:"Thị trấn Tràm Chim"},{ma:"30001",ten:"Xã Phú Cường"}],880:[{ma:"30100",ten:"Phường 1"},{ma:"30101",ten:"Phường 2"}]};_.value=await g(o[t.value.maHuyen]||[]),t.value.maHuyen==="870"&&_.value.some(n=>n.ma==="29980")?t.value.maXa="29980":_.value.length>0&&(t.value.maXa=_.value[0].ma)}}async function f(){console.log("Đang lấy dữ liệu mẫu được chọn điều tra với bộ lọc:",t.value);const o=[{kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"001",diaBan:"Khu A",sttHo:"01",tenChuHo:"Nguyễn Thị A",lon_1_3:0,lon_3_50:0,lon_50_999:0,ga_1_50:15,ga_50_200:0,ga_200_499:0,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!1,ga:!0,vit:!1,ngan:!1}},{kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"001",diaBan:"Khu B",sttHo:"02",tenChuHo:"Trần Văn B",lon_1_3:5,lon_3_50:0,lon_50_999:0,ga_1_50:0,ga_50_200:0,ga_200_499:0,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!0,ga:!1,vit:!1,ngan:!1}},{kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"002",diaBan:"Khu C",sttHo:"03",tenChuHo:"Lê Thị C",lon_1_3:0,lon_3_50:0,lon_50_999:0,ga_1_50:0,ga_50_200:0,ga_200_499:0,vit_1_50:20,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!1,ga:!1,vit:!0,ngan:!1}},{kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29962",maThon:"001",diaBan:"Ấp 1",sttHo:"01",tenChuHo:"Phạm Văn D",lon_1_3:0,lon_3_50:0,lon_50_999:0,ga_1_50:50,ga_50_200:0,ga_200_499:0,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!1,ga:!0,vit:!1,ngan:!1}},{kyDieuTra:"3",nam:"2024",maTinh:"87",maHuyen:"871",maXa:"30000",maThon:"003",diaBan:"Khóm 3",sttHo:"05",tenChuHo:"Võ Thị E",lon_1_3:0,lon_3_50:0,lon_50_999:150,ga_1_50:0,ga_50_200:0,ga_200_499:0,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!0,ga:!1,vit:!1,ngan:!1}},{kyDieuTra:"4",nam:"2025",maTinh:"88",maHuyen:"880",maXa:"30100",maThon:"001",diaBan:"Phường 1",sttHo:"10",tenChuHo:"Nguyễn Văn G",lon_1_3:0,lon_3_50:0,lon_50_999:0,ga_1_50:0,ga_50_200:0,ga_200_499:300,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:0,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!1,ga:!0,vit:!1,ngan:!1}},{kyDieuTra:"4",nam:"2025",maTinh:"88",maHuyen:"880",maXa:"30100",maThon:"002",diaBan:"Phường 2",sttHo:"15",tenChuHo:"Phạm Thị H",lon_1_3:0,lon_3_50:0,lon_50_999:0,ga_1_50:0,ga_50_200:0,ga_200_499:0,vit_1_50:0,vit_50_200:0,vit_200_499:0,ngan_1_50:25,ngan_50_200:0,ngan_200_499:0,mauChon:{lon:!1,ga:!1,vit:!1,ngan:!0}}];x.value=await g(o)}function X(){console.log("Áp dụng bộ lọc:",t.value)}function k(){alert("Chức năng Xuất Excel (cần implement logic)")}return P(()=>{T().then(()=>{t.value.maHuyen?p().then(()=>{f()}):f()})}),y(()=>t.value.maTinh,(o,n)=>{o!==n&&T()}),y(()=>t.value.maHuyen,(o,n)=>{o!==n&&p()}),y([()=>t.value.kyDieuTra,()=>t.value.nam,()=>t.value.maTinh,()=>t.value.maHuyen,()=>t.value.maXa,()=>t.value.maThon,()=>t.value.diaBan],()=>{f()}),(o,n)=>(u(),s("div",N,[a("div",L,[a("main",M,[n[23]||(n[23]=a("h2",{class:"text-center mb-4"},"Mẫu được chọn điều tra",-1)),a("div",A,[a("div",K,[a("div",U,[n[8]||(n[8]=a("label",{for:"kyDieuTra",class:"form-label visually-hidden"},"Kỳ điều tra",-1)),c(a("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.value.kyDieuTra=e),class:"form-select",id:"kyDieuTra"},n[7]||(n[7]=[a("option",{value:"4"},"4",-1),a("option",{value:"3"},"3",-1),a("option",{value:"2"},"2",-1),a("option",{value:"1"},"1",-1)]),512),[[d,t.value.kyDieuTra]])]),a("div",E,[n[10]||(n[10]=a("label",{for:"nam",class:"form-label visually-hidden"},"Năm",-1)),c(a("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>t.value.nam=e),class:"form-select",id:"nam"},n[9]||(n[9]=[a("option",null,"2025",-1),a("option",null,"2024",-1),a("option",null,"2023",-1)]),512),[[d,t.value.nam]])]),a("div",S,[n[12]||(n[12]=a("label",{for:"tinhTp",class:"form-label visually-hidden"},"Tỉnh/TP",-1)),c(a("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>t.value.maTinh=e),class:"form-select",id:"tinhTp",onChange:T},[n[11]||(n[11]=a("option",{value:""},"--Chọn Tỉnh--",-1)),(u(!0),s(h,null,r(C.value,e=>(u(),s("option",{key:e.ma,value:e.ma},l(e.ma)+" - "+l(e.ten),9,G))),128))],544),[[d,t.value.maTinh]])]),a("div",F,[n[14]||(n[14]=a("label",{for:"quanHuyen",class:"form-label visually-hidden"},"Quận/Huyện",-1)),c(a("select",{"onUpdate:modelValue":n[3]||(n[3]=e=>t.value.maHuyen=e),class:"form-select",id:"quanHuyen",onChange:p,disabled:!i.value.length},[n[13]||(n[13]=a("option",{value:""},"--Chọn Huyện--",-1)),(u(!0),s(h,null,r(i.value,e=>(u(),s("option",{key:e.ma,value:e.ma},l(e.ma)+" - "+l(e.ten),9,j))),128))],40,Q),[[d,t.value.maHuyen]])]),a("div",q,[n[16]||(n[16]=a("label",{for:"xaPhuong",class:"form-label visually-hidden"},"Xã/Phường",-1)),c(a("select",{"onUpdate:modelValue":n[4]||(n[4]=e=>t.value.maXa=e),class:"form-select",id:"xaPhuong",disabled:!_.value.length},[n[15]||(n[15]=a("option",{value:""},"--Chọn Xã/Phường--",-1)),(u(!0),s(h,null,r(_.value,e=>(u(),s("option",{key:e.ma,value:e.ma},l(e.ma)+" - "+l(e.ten),9,z))),128))],8,I),[[d,t.value.maXa]])]),a("div",J,[n[17]||(n[17]=a("label",{for:"thon",class:"form-label visually-hidden"},"Thôn",-1)),c(a("input",{type:"text","onUpdate:modelValue":n[5]||(n[5]=e=>t.value.maThon=e),class:"form-control",id:"thon",placeholder:"Thôn"},null,512),[[H,t.value.maThon]])]),a("div",O,[n[18]||(n[18]=a("label",{for:"diaBan",class:"form-label visually-hidden"},"Địa bàn",-1)),c(a("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=e=>t.value.diaBan=e),class:"form-control",id:"diaBan",placeholder:"Địa bàn"},null,512),[[H,t.value.diaBan]])]),a("div",{class:"col-md-auto"},[a("button",{class:"btn btn-primary",onClick:X},n[19]||(n[19]=[a("i",{class:"bi bi-search"},null,-1),b(" Xem ")]))])])]),a("div",{class:"d-flex justify-content-end mb-3"},[a("button",{class:"btn btn-success",onClick:k},n[20]||(n[20]=[a("i",{class:"bi bi-file-earmark-excel"},null,-1),b(" Xuất Excel ")]))]),a("div",R,[a("table",W,[a("caption",null,"Tổng số bản ghi: "+l(v.value.length),1),n[22]||(n[22]=a("thead",{class:"table-primary"},[a("tr",null,[a("th",{rowspan:"2",scope:"col"},"Mã Tỉnh"),a("th",{rowspan:"2",scope:"col"},"Mã Huyện"),a("th",{rowspan:"2",scope:"col"},"Mã Xã"),a("th",{rowspan:"2",scope:"col"},"Mã Thôn"),a("th",{rowspan:"2",scope:"col"},"Địa bàn"),a("th",{rowspan:"2",scope:"col"},"STT hộ"),a("th",{rowspan:"2",scope:"col",style:{"min-width":"180px"}},"Họ và tên chủ hộ"),a("th",{colspan:"3",class:"text-center"},"Lợn"),a("th",{colspan:"3",class:"text-center"},"Gà"),a("th",{colspan:"3",class:"text-center"},"Vịt"),a("th",{colspan:"3",class:"text-center"},"Ngan"),a("th",{colspan:"4",class:"text-center"},"Mẫu được chọn điều tra")]),a("tr",null,[a("th",{scope:"col",class:"text-center"},"Từ 1 đến 3 con"),a("th",{scope:"col",class:"text-center"},"Từ 3 đến 50 con"),a("th",{scope:"col",class:"text-center"},"Từ 50 đến 999 con"),a("th",{scope:"col",class:"text-center"},"Từ 1 đến 50 con"),a("th",{scope:"col",class:"text-center"},"Từ 50 đến 200 con"),a("th",{scope:"col",class:"text-center"},"Từ 200 đến 499 con"),a("th",{scope:"col",class:"text-center"},"Từ 1 đến 50 con"),a("th",{scope:"col",class:"text-center"},"Từ 50 đến 200 con"),a("th",{scope:"col",class:"text-center"},"Từ 200 đến 499 con"),a("th",{scope:"col",class:"text-center"},"Từ 1 đến 50 con"),a("th",{scope:"col",class:"text-center"},"Từ 50 đến 200 con"),a("th",{scope:"col",class:"text-center"},"Từ 200 đến 499 con"),a("th",{scope:"col",class:"text-center"},"Lợn"),a("th",{scope:"col",class:"text-center"},"Gà"),a("th",{scope:"col",class:"text-center"},"Vịt"),a("th",{scope:"col",class:"text-center"},"Ngan")])],-1)),a("tbody",null,[v.value.length===0?(u(),s("tr",Y,n[21]||(n[21]=[a("td",{colspan:"20",class:"text-center"},"Chưa có dữ liệu",-1)]))):V("",!0),(u(!0),s(h,null,r(v.value,(e,D)=>(u(),s("tr",{key:D},[a("td",null,l(e.maTinh),1),a("td",null,l(e.maHuyen),1),a("td",null,l(e.maXa),1),a("td",null,l(e.maThon),1),a("td",null,l(e.diaBan),1),a("td",null,l(e.sttHo),1),a("td",null,l(e.tenChuHo),1),a("td",Z,l(e.lon_1_3),1),a("td",$,l(e.lon_3_50),1),a("td",aa,l(e.lon_50_999),1),a("td",na,l(e.ga_1_50),1),a("td",ea,l(e.ga_50_200),1),a("td",ta,l(e.ga_200_499),1),a("td",la,l(e.vit_1_50),1),a("td",oa,l(e.vit_50_200),1),a("td",sa,l(e.vit_200_499),1),a("td",ua,l(e.ngan_1_50),1),a("td",_a,l(e.ngan_50_200),1),a("td",ia,l(e.ngan_200_499),1),a("td",ca,l(e.mauChon.lon?"X":""),1),a("td",ma,l(e.mauChon.ga?"X":""),1),a("td",da,l(e.mauChon.vit?"X":""),1),a("td",ha,l(e.mauChon.ngan?"X":""),1)]))),128))])])])])])]))}},Ta=B(ra,[["__scopeId","data-v-a4477320"]]);export{Ta as default};
