import{_ as F,r as m,c as V,i as Q,j as w,a as o,b as n,w as r,v as h,F as c,g as p,d as x,t,f as z,o as u}from"./index-Sn3POsPr.js";const J={class:"container"},O={class:"row"},R={class:"ms-sm-auto px-4 pt-4"},W={class:"card p-3 mb-4 shadow-sm"},Y={class:"row g-3 align-items-end"},Z={class:"col-md-2 col-sm-6"},aa={class:"col-md-2 col-sm-6"},na={class:"col-md-3 col-lg-2 col-sm-6"},la=["value"],ea={class:"col-md-3 col-lg-2 col-sm-6"},_a=["disabled"],ta=["value"],sa={class:"col-md-3 col-lg-2 col-sm-6"},oa=["disabled"],ua=["value"],ia={class:"col-md-3 col-lg-2 col-sm-6"},fa=["disabled"],ga=["value"],ma={class:"col-md-3 col-lg-2 col-sm-6"},ra=["disabled"],ha=["value"],va={class:"col-md-6 col-lg-4 d-flex align-items-end justify-content-end"},da={class:"input-group flex-grow-1 me-2"},ca=["value"],pa={class:"table-responsive"},ba={class:"table table-bordered table-hover caption-top"},ya={class:"text-center"},xa={class:"text-center"},Ta={class:"text-center"},ka={class:"text-center"},Ha={key:0},Ba={__name:"BangKe01",setup(Da){const l=m({kyDieuTra:"4",nam:"2025",maTinh:"87",maHuyen:"870",maXa:"29980",maThon:"05",maDiaBan:"011-long hau 4"}),N=m([{ma:"87",ten:"Đồng Tháp"},{ma:"88",ten:"Long An"},{ma:"89",ten:"An Giang"}]),v=m([]),g=m([]),f=m([]),i=m([]),T=m([]),M=V(()=>T.value.filter(_=>_.ma_tinh===l.value.maTinh&&_.ma_huyen===l.value.maHuyen&&_.ma_xa===l.value.maXa&&_.ma_thon===l.value.maThon&&_.dia_ban_ma===l.value.maDiaBan).length),k=V(()=>{let _=T.value;return l.value.kyDieuTra&&(_=_.filter(a=>a.ky_dieu_tra===l.value.kyDieuTra)),l.value.nam&&(_=_.filter(a=>a.nam===l.value.nam)),l.value.maTinh&&(_=_.filter(a=>a.ma_tinh===l.value.maTinh)),l.value.maHuyen&&(_=_.filter(a=>a.ma_huyen===l.value.maHuyen)),l.value.maXa&&(_=_.filter(a=>a.ma_xa===l.value.maXa)),l.value.maThon&&(_=_.filter(a=>a.ma_thon===l.value.maThon)),l.value.maDiaBan&&(_=_.filter(a=>a.dia_ban_ma===l.value.maDiaBan)),_});function b(_,a){const e=[{key:`${a}_1_9`,label:"1-9"},{key:`${a}_10_29`,label:"10-29"},{key:`${a}_50_199`,label:"50-199"},{key:`${a}_200_499`,label:"200-499"},{key:`${a}_500_plus`,label:">=500"}];for(const d of e)if(_[d.key])return d.label;return""}const y=(_,a=300)=>new Promise(e=>setTimeout(()=>e(_),a));async function B(){if(l.value.maHuyen="",l.value.maXa="",l.value.maThon="",l.value.maDiaBan="",g.value=[],f.value=[],i.value=[],l.value.maTinh){const _=await y([{ma:"870",ten:"Huyện Hồng Ngự",ma_tinh:"87"},{ma:"871",ten:"Huyện Tam Nông",ma_tinh:"87"},{ma:"880",ten:"TP Tân An",ma_tinh:"88"}].filter(a=>a.ma_tinh===l.value.maTinh));v.value=_,v.value.length>0&&(l.value.maHuyen=v.value[0].ma,D())}else v.value=[]}async function D(){if(l.value.maXa="",l.value.maThon="",l.value.maDiaBan="",f.value=[],i.value=[],l.value.maHuyen){const _=await y([{ma:"29980",ten:"Xã Long Khánh A",ma_huyen:"870"},{ma:"29981",ten:"Xã Long Khánh B",ma_huyen:"870"},{ma:"30000",ten:"Thị trấn Tràm Chim",ma_huyen:"871"},{ma:"30001",ten:"Xã Phú Cường",ma_huyen:"871"},{ma:"30100",ten:"Phường 1",ma_huyen:"880"}].filter(a=>a.ma_huyen===l.value.maHuyen));g.value=_,g.value.length>0&&(l.value.maXa=g.value[0].ma,X())}else g.value=[]}async function X(){if(l.value.maThon="",l.value.maDiaBan="",i.value=[],l.value.maXa){const _=await y([{ma:"05",ten:"Long Phước",ma_xa:"29980"},{ma:"06",ten:"Long Thạnh",ma_xa:"29980"},{ma:"01",ten:"Ấp 1",ma_xa:"29981"},{ma:"02",ten:"Ấp 2",ma_xa:"29981"}].filter(a=>a.ma_xa===l.value.maXa));f.value=_,f.value.length>0&&(l.value.maThon=f.value[0].ma,C())}else f.value=[]}async function C(){if(l.value.maDiaBan="",l.value.maThon){const _=await y([{ma:"011-long hau 4",ten:"011-long hau 4",ma_thon:"05"},{ma:"012-long hau 5",ten:"012-long hau 5",ma_thon:"05"},{ma:"013-long thanh",ten:"013-long thanh",ma_thon:"06"}].filter(a=>a.ma_thon===l.value.maThon));i.value=_,i.value.length>0&&(l.value.maDiaBan=i.value[0].ma)}else i.value=[]}async function H(){console.log("Đang lấy dữ liệu hộ với các bộ lọc:",l.value);const _=[{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0001",ho_ten_chu_ho:"Nguyễn Thị Mèn",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0002",ho_ten_chu_ho:"Hồ Thị Nhảnh",loi_thong_tin:{lon_1_9:!1,lon_10_29:!0,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!0,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0003",ho_ten_chu_ho:"Nguyễn Văn Tuấn",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!0,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0004",ho_ten_chu_ho:"Nguyễn Văn Đông",loi_thong_tin:{lon_1_9:!0,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0005",ho_ten_chu_ho:"Hồ Văn Hiển",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!0,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0006",ho_ten_chu_ho:"Bùi Thị Dõi",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!0,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0007",ho_ten_chu_ho:"Phạm Văn Bồng",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!0,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0008",ho_ten_chu_ho:"Nguyễn Văn Triệu",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!0,ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0009",ho_ten_chu_ho:"Nguyễn Văn Lâm",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!0,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:"0010",ho_ten_chu_ho:"Lê Văn Phương",loi_thong_tin:{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1,ga_1_9:!1,ga_10_29:!0,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1,vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1,ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1}},...Array.from({length:50},(a,e)=>{const d=String(e+11).padStart(4,"0"),A=Math.random()<.5,U=Math.random()<.5,K=Math.random()<.5,$=Math.random()<.5,q=()=>{if(!A)return{lon_1_9:!1,lon_10_29:!1,lon_50_199:!1,lon_200_499:!1,lon_500_plus:!1};const s=Math.random();return s<.2?{lon_1_9:!0}:s<.4?{lon_10_29:!0}:s<.6?{lon_50_199:!0}:s<.8?{lon_200_499:!0}:{lon_500_plus:!0}},G=()=>{if(!U)return{ga_1_9:!1,ga_10_29:!1,ga_50_199:!1,ga_200_499:!1,ga_500_plus:!1};const s=Math.random();return s<.2?{ga_1_9:!0}:s<.4?{ga_10_29:!0}:s<.6?{ga_50_199:!0}:s<.8?{ga_200_499:!0}:{ga_500_plus:!0}},j=()=>{if(!K)return{vit_1_9:!1,vit_10_29:!1,vit_50_199:!1,vit_200_499:!1,vit_500_plus:!1};const s=Math.random();return s<.2?{vit_1_9:!0}:s<.4?{vit_10_29:!0}:s<.6?{vit_50_199:!0}:s<.8?{vit_200_499:!0}:{vit_500_plus:!0}},I=()=>{if(!$)return{ngang_1_9:!1,ngang_10_29:!1,ngang_50_199:!1,ngang_200_499:!1,ngang_500_plus:!1};const s=Math.random();return s<.2?{ngang_1_9:!0}:s<.4?{ngang_10_29:!0}:s<.6?{ngang_50_199:!0}:s<.8?{ngang_200_499:!0}:{ngang_500_plus:!0}};return{ky_dieu_tra:"4",nam:"2025",ma_tinh:"87",ma_huyen:"870",ma_xa:"29980",ma_thon:"05",dia_ban:"011-long hau 4",dia_ban_ma:"011-long hau 4",stt_ho:d,ho_ten_chu_ho:`Chủ Hộ Test ${d}`,loi_thong_tin:{...q(),...G(),...j(),...I()}}})];T.value=_}function P(){alert("Đang cập nhật tổng số hộ địa bàn. (Thực tế sẽ gọi API)")}function L(){alert("Xuất Excel theo Địa bàn đã chọn.")}function E(){alert("Xuất Excel theo Huyện đã chọn.")}function S(){alert("Xuất Excel theo Tỉnh đã chọn.")}return Q(()=>{B(),H()}),w(()=>l.value.maDiaBan,()=>{H()}),w(()=>l.value.maThon,()=>{l.value.maDiaBan||H()}),(_,a)=>(u(),o("div",J,[n("div",O,[n("main",R,[a[27]||(a[27]=n("h2",{class:"text-center mb-4"},"Bảng kê hộ quy mô nhỏ",-1)),n("div",W,[n("div",Y,[n("div",Z,[a[8]||(a[8]=n("label",{for:"kyDieuTra",class:"form-label"},"Kỳ điều tra",-1)),r(n("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.kyDieuTra=e),class:"form-select",id:"kyDieuTra"},a[7]||(a[7]=[n("option",{value:"4"},"4",-1),n("option",{value:"3"},"3",-1),n("option",{value:"2"},"2",-1),n("option",{value:"1"},"1",-1)]),512),[[h,l.value.kyDieuTra]])]),n("div",aa,[a[10]||(a[10]=n("label",{for:"nam",class:"form-label"},"Năm",-1)),r(n("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.nam=e),class:"form-select",id:"nam"},a[9]||(a[9]=[n("option",null,"2025",-1),n("option",null,"2024",-1),n("option",null,"2023",-1)]),512),[[h,l.value.nam]])]),n("div",na,[a[11]||(a[11]=n("label",{for:"tinhTp",class:"form-label"},"Tỉnh/TP",-1)),r(n("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.maTinh=e),class:"form-select",id:"tinhTp",onChange:B},[(u(!0),o(c,null,p(N.value,e=>(u(),o("option",{key:e.ma,value:e.ma},t(e.ma)+" - "+t(e.ten),9,la))),128))],544),[[h,l.value.maTinh]])]),n("div",ea,[a[13]||(a[13]=n("label",{for:"quanHuyen",class:"form-label"},"Quận/Huyện",-1)),r(n("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.maHuyen=e),class:"form-select",id:"quanHuyen",onChange:D,disabled:!v.value.length},[a[12]||(a[12]=n("option",{value:""},"--Chọn Huyện--",-1)),(u(!0),o(c,null,p(v.value,e=>(u(),o("option",{key:e.ma,value:e.ma},t(e.ma)+" - "+t(e.ten),9,ta))),128))],40,_a),[[h,l.value.maHuyen]])]),n("div",sa,[a[15]||(a[15]=n("label",{for:"xaPhuong",class:"form-label"},"Xã/Phường",-1)),r(n("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.maXa=e),class:"form-select",id:"xaPhuong",onChange:X,disabled:!g.value.length},[a[14]||(a[14]=n("option",{value:""},"--Chọn Xã/Phường--",-1)),(u(!0),o(c,null,p(g.value,e=>(u(),o("option",{key:e.ma,value:e.ma},t(e.ma)+" - "+t(e.ten),9,ua))),128))],40,oa),[[h,l.value.maXa]])]),n("div",ia,[a[17]||(a[17]=n("label",{for:"thon",class:"form-label"},"Thôn",-1)),r(n("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>l.value.maThon=e),class:"form-select",id:"thon",onChange:C,disabled:!f.value.length},[a[16]||(a[16]=n("option",{value:""},"--Chọn Thôn--",-1)),(u(!0),o(c,null,p(f.value,e=>(u(),o("option",{key:e.ma,value:e.ma},t(e.ma)+" - "+t(e.ten),9,ga))),128))],40,fa),[[h,l.value.maThon]])]),n("div",ma,[a[19]||(a[19]=n("label",{for:"diaBan",class:"form-label"},"Địa bàn",-1)),r(n("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>l.value.maDiaBan=e),class:"form-select",id:"diaBan",disabled:!i.value.length},[a[18]||(a[18]=n("option",{value:""},"--Chọn Địa bàn--",-1)),(u(!0),o(c,null,p(i.value,e=>(u(),o("option",{key:e.ma,value:e.ma},t(e.ma)+" - "+t(e.ten),9,ha))),128))],8,ra),[[h,l.value.maDiaBan]])]),n("div",va,[n("div",da,[a[20]||(a[20]=n("span",{class:"input-group-text"},"Tổng số hộ thôn/địa bàn:",-1)),n("input",{type:"text",class:"form-control",value:M.value,readonly:""},null,8,ca)]),n("button",{class:"btn btn-secondary flex-shrink-0",onClick:P},a[21]||(a[21]=[n("i",{class:"bi bi-arrow-clockwise"},null,-1),x(" Cập nhật ")]))])])]),n("div",{class:"d-flex justify-content-end mb-4 flex-wrap"},[n("button",{class:"btn btn-success me-2 mb-2",onClick:L},a[22]||(a[22]=[n("i",{class:"bi bi-file-earmark-excel"},null,-1),x(" Xuất Excel theo địa bàn ")])),n("button",{class:"btn btn-success me-2 mb-2",onClick:E},a[23]||(a[23]=[n("i",{class:"bi bi-file-earmark-excel"},null,-1),x(" Xuất Excel theo Huyện ")])),n("button",{class:"btn btn-success mb-2",onClick:S},a[24]||(a[24]=[n("i",{class:"bi bi-file-earmark-excel"},null,-1),x(" Xuất Excel theo Tỉnh ")]))]),n("div",pa,[n("table",ba,[n("caption",null,"Tổng số hộ đang hiển thị: "+t(k.value.length),1),a[26]||(a[26]=n("thead",{class:"table-primary"},[n("tr",null,[n("th",{scope:"col"},"Mã Tỉnh"),n("th",{scope:"col"},"Mã Xã"),n("th",{scope:"col"},"Mã Thôn"),n("th",{scope:"col"},"Địa bàn"),n("th",{scope:"col"},"STT Hộ"),n("th",{scope:"col",style:{"min-width":"180px"}},"Họ và tên chủ hộ"),n("th",{scope:"col",class:"text-center"},"Lợn"),n("th",{scope:"col",class:"text-center"},"Gà"),n("th",{scope:"col",class:"text-center"},"Vịt"),n("th",{scope:"col",class:"text-center"},"Ngang")])],-1)),n("tbody",null,[(u(!0),o(c,null,p(k.value,(e,d)=>(u(),o("tr",{key:e.stt_ho},[n("td",null,t(e.ma_tinh),1),n("td",null,t(e.ma_xa),1),n("td",null,t(e.ma_thon),1),n("td",null,t(e.dia_ban),1),n("td",null,t(e.stt_ho),1),n("td",null,t(e.ho_ten_chu_ho),1),n("td",ya,t(b(e.loi_thong_tin,"lon")),1),n("td",xa,t(b(e.loi_thong_tin,"ga")),1),n("td",Ta,t(b(e.loi_thong_tin,"vit")),1),n("td",ka,t(b(e.loi_thong_tin,"ngang")),1)]))),128)),k.value.length===0?(u(),o("tr",Ha,a[25]||(a[25]=[n("td",{colspan:"10",class:"text-center"},"Không tìm thấy dữ liệu hộ quy mô nhỏ nào.",-1)]))):z("",!0)])])])])])]))}},Ca=F(Ba,[["__scopeId","data-v-6f7da832"]]);export{Ca as default};
