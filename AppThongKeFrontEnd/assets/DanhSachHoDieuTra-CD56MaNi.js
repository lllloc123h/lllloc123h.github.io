import{_ as E,r as u,c as Q,i as j,j as k,a as s,b as n,w as r,v as c,k as G,F as v,g,d as x,t as o,f as Y,o as h}from"./index-cKVi3yki.js";const I={class:"container-fluid"},O={class:"row"},R={class:"ms-sm-auto px-4 pt-4"},z={class:"card p-3 mb-4 shadow-sm"},J={class:"row g-3 align-items-end"},W={class:"col-md-2 col-sm-6"},Z={class:"col-md-2 col-sm-6"},nn={class:"col-md-3 col-lg-2 col-sm-6"},tn=["value"],an={class:"col-md-3 col-lg-2 col-sm-6"},en=["disabled"],on=["value"],ln={class:"col-md-3 col-lg-3 col-sm-6"},sn=["disabled"],hn=["value"],mn={class:"table-responsive"},un={class:"table table-bordered table-hover caption-top"},rn={key:0},cn={class:"text-center"},dn={class:"text-center"},vn={class:"text-center"},gn={class:"text-center"},pn={class:"text-center"},Tn={__name:"DanhSachHoDieuTra",setup(yn){const e=u({kyDieuTra:"",nam:"",maTinh:"",maHuyen:"",maXa:""}),p=u([{ma:"87",ten:"Đồng Tháp"},{ma:"88",ten:"Long An"},{ma:"89",ten:"An Giang"},{ma:"92",ten:"Cần Thơ"}]),d=u([]),i=u([]),_=u([]),T=Q(()=>_.value.filter(t=>(e.value.kyDieuTra===""||t.kyDieuTra===e.value.kyDieuTra)&&(e.value.nam===""||t.nam===e.value.nam)&&(e.value.maTinh===""||t.maTinh===e.value.maTinh)&&(e.value.maHuyen===""||t.maHuyen===e.value.maHuyen)&&(e.value.maXa===""||t.maXa===e.value.maXa))),y=(l,t=100)=>new Promise(a=>setTimeout(()=>a(l),t));async function f(){if(e.value.maHuyen="",e.value.maXa="",d.value=[],i.value=[],e.value.maTinh){const l=[{ma:"870",ten:"Hồng Ngự",ma_tinh:"87"},{ma:"871",ten:"Tam Nông",ma_tinh:"87"},{ma:"872",ten:"Tháp Mười",ma_tinh:"87"},{ma:"880",ten:"TP Tân An",ma_tinh:"88"},{ma:"881",ten:"Đức Huệ",ma_tinh:"88"},{ma:"890",ten:"TP Long Xuyên",ma_tinh:"89"},{ma:"891",ten:"Châu Đốc",ma_tinh:"89"}];d.value=await y(l.filter(t=>t.ma_tinh===e.value.maTinh))}}async function H(){if(e.value.maXa="",i.value=[],e.value.maHuyen){const l={870:[{ma:"29956",ten:"Xã Thường Phước 1"},{ma:"29962",ten:"Xã Thường Thới Hậu A"},{ma:"29967",ten:"Xã Thường Phước 2"},{ma:"29971",ten:"Thị trấn Thường Thới Tiền"},{ma:"29980",ten:"Xã Long Khánh A"},{ma:"29983",ten:"Xã Long Khánh B"}],871:[{ma:"30000",ten:"Thị trấn Tràm Chim"},{ma:"30001",ten:"Xã Phú Cường"},{ma:"30002",ten:"Xã Tân Công Sính"}],872:[{ma:"30050",ten:"Thị trấn Mỹ An"},{ma:"30051",ten:"Xã Đốc Binh Kiều"}],880:[{ma:"30100",ten:"Phường 1"},{ma:"30101",ten:"Phường 2"},{ma:"30102",ten:"Xã Lợi Bình Nhơn"}],881:[{ma:"30150",ten:"Thị trấn Đông Thành"},{ma:"30151",ten:"Xã Mỹ Quý Đông"}],890:[{ma:"30200",ten:"Phường Mỹ Bình"},{ma:"30201",ten:"Phường Mỹ Long"}],891:[{ma:"30250",ten:"Phường Châu Phú A"},{ma:"30251",ten:"Phường Vĩnh Mỹ"}]};i.value=await y(l[e.value.maHuyen]||[])}}async function w(){console.log("Đang lấy dữ liệu danh sách hộ theo quy mô với bộ lọc:",e.value);const l=[],t=100,a=["","V01","V02","V03","V04","V05"];for(let m=1;m<=t;m++){const N=["4","3","2"][Math.floor(Math.random()*3)],B=["2025","2024","2023"][Math.floor(Math.random()*3)];let M=p.value[Math.floor(Math.random()*p.value.length)].ma,P={},b={};const X=[{ma:"870",ten:"Hồng Ngự",ma_tinh:"87"},{ma:"871",ten:"Tam Nông",ma_tinh:"87"},{ma:"872",ten:"Tháp Mười",ma_tinh:"87"},{ma:"880",ten:"TP Tân An",ma_tinh:"88"},{ma:"881",ten:"Đức Huệ",ma_tinh:"88"},{ma:"890",ten:"TP Long Xuyên",ma_tinh:"89"},{ma:"891",ten:"Châu Đốc",ma_tinh:"89"}].filter(U=>U.ma_tinh===M);X.length>0&&(P=X[Math.floor(Math.random()*X.length)]);let D=P.ma||"";const C={870:[{ma:"29956",ten:"Xã Thường Phước 1"},{ma:"29962",ten:"Xã Thường Thới Hậu A"},{ma:"29967",ten:"Xã Thường Phước 2"},{ma:"29971",ten:"Thị trấn Thường Thới Tiền"},{ma:"29980",ten:"Xã Long Khánh A"},{ma:"29983",ten:"Xã Long Khánh B"}],871:[{ma:"30000",ten:"Thị trấn Tràm Chim"},{ma:"30001",ten:"Xã Phú Cường"},{ma:"30002",ten:"Xã Tân Công Sính"}],872:[{ma:"30050",ten:"Thị trấn Mỹ An"},{ma:"30051",ten:"Xã Đốc Binh Kiều"}],880:[{ma:"30100",ten:"Phường 1"},{ma:"30101",ten:"Phường 2"},{ma:"30102",ten:"Xã Lợi Bình Nhơn"}],881:[{ma:"30150",ten:"Thị trấn Đông Thành"},{ma:"30151",ten:"Xã Mỹ Quý Đông"}],890:[{ma:"30200",ten:"Phường Mỹ Bình"},{ma:"30201",ten:"Phường Mỹ Long"}],891:[{ma:"30250",ten:"Phường Châu Phú A"},{ma:"30251",ten:"Phường Vĩnh Mỹ"}]}[D]||[];C.length>0&&(b=C[Math.floor(Math.random()*C.length)]);let A=b.ma||"";b.ten;const L=`Ấp/Khu ${Math.floor(Math.random()*5)+1}`,q=`Địa bàn ${String.fromCharCode(65+Math.floor(Math.random()*3))}`,K=String(Math.floor(Math.random()*1e3)+1).padStart(4,"0"),$=`Nguyễn Văn ${String.fromCharCode(65+m%26)} ${m}`,F=`0${Math.floor(Math.random()*9e8)+1e8}`;l.push({stt:m,kyDieuTra:N,nam:B,maTinh:M,maHuyen:D,maXa:A,thon:L,diaBan:q,hoSo:K,tenChuHo:$,dienThoai:F,quyMo:{lon:a[Math.floor(Math.random()*a.length)],ga:a[Math.floor(Math.random()*a.length)],vit:a[Math.floor(Math.random()*a.length)],ngan:a[Math.floor(Math.random()*a.length)]},hoNuoiYen:Math.random()>.8,btv:`D${M}${String(Math.floor(Math.random()*100)+1).padStart(3,"0")}`})}_.value=await y(l)}function V(){console.log("Áp dụng bộ lọc:",e.value)}function S(){alert("Chức năng Xuất Excel (cần implement logic)")}return j(()=>{f(),w()}),k(()=>e.value.maTinh,(l,t)=>{l!==t&&f()}),k(()=>e.value.maHuyen,(l,t)=>{l!==t&&H()}),(l,t)=>(h(),s("div",I,[n("div",O,[n("main",R,[t[19]||(t[19]=n("h2",{class:"text-center mb-4"},"Danh sách hộ được chọn theo mẫu tổng quy mô",-1)),n("div",z,[n("div",J,[n("div",W,[t[6]||(t[6]=n("label",{for:"kyDieuTra",class:"form-label visually-hidden"},"Kỳ điều tra",-1)),r(n("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.kyDieuTra=a),class:"form-select",id:"kyDieuTra"},t[5]||(t[5]=[G('<option value="" data-v-17b8d09c>--Chọn Kỳ--</option><option value="4" data-v-17b8d09c>4</option><option value="3" data-v-17b8d09c>3</option><option value="2" data-v-17b8d09c>2</option><option value="1" data-v-17b8d09c>1</option>',5)]),512),[[c,e.value.kyDieuTra]])]),n("div",Z,[t[8]||(t[8]=n("label",{for:"nam",class:"form-label visually-hidden"},"Năm",-1)),r(n("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.nam=a),class:"form-select",id:"nam"},t[7]||(t[7]=[n("option",{value:""},"--Chọn Năm--",-1),n("option",null,"2025",-1),n("option",null,"2024",-1),n("option",null,"2023",-1)]),512),[[c,e.value.nam]])]),n("div",nn,[t[10]||(t[10]=n("label",{for:"tinhTp",class:"form-label visually-hidden"},"Tỉnh/TP",-1)),r(n("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.maTinh=a),class:"form-select",id:"tinhTp",onChange:f},[t[9]||(t[9]=n("option",{value:""},"--Chọn Tỉnh--",-1)),(h(!0),s(v,null,g(p.value,a=>(h(),s("option",{key:a.ma,value:a.ma},o(a.ma)+" - "+o(a.ten),9,tn))),128))],544),[[c,e.value.maTinh]])]),n("div",an,[t[12]||(t[12]=n("label",{for:"quanHuyen",class:"form-label visually-hidden"},"Quận/Huyện",-1)),r(n("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>e.value.maHuyen=a),class:"form-select",id:"quanHuyen",onChange:H,disabled:!d.value.length},[t[11]||(t[11]=n("option",{value:""},"--Chọn Huyện--",-1)),(h(!0),s(v,null,g(d.value,a=>(h(),s("option",{key:a.ma,value:a.ma},o(a.ma)+" - "+o(a.ten),9,on))),128))],40,en),[[c,e.value.maHuyen]])]),n("div",ln,[t[14]||(t[14]=n("label",{for:"xaPhuong",class:"form-label visually-hidden"},"Xã/Phường",-1)),r(n("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>e.value.maXa=a),class:"form-select",id:"xaPhuong",disabled:!i.value.length},[t[13]||(t[13]=n("option",{value:""},"--Chọn Xã/Phường--",-1)),(h(!0),s(v,null,g(i.value,a=>(h(),s("option",{key:a.ma,value:a.ma},o(a.ma)+" - "+o(a.ten),9,hn))),128))],8,sn),[[c,e.value.maXa]])]),n("div",{class:"col-md-auto"},[n("button",{class:"btn btn-primary",onClick:V},t[15]||(t[15]=[n("i",{class:"bi bi-search"},null,-1),x(" Xem ")]))])])]),n("div",{class:"d-flex justify-content-end mb-3"},[n("button",{class:"btn btn-success",onClick:S},t[16]||(t[16]=[n("i",{class:"bi bi-file-earmark-excel"},null,-1),x(" Xuất Excel ")]))]),n("div",mn,[n("table",un,[n("caption",null,"Tổng số bản ghi: "+o(T.value.length),1),t[18]||(t[18]=n("thead",{class:"table-primary"},[n("tr",null,[n("th",{rowspan:"2",scope:"col"},"STT"),n("th",{rowspan:"2",scope:"col"},"Mã Tỉnh"),n("th",{rowspan:"2",scope:"col"},"Mã Huyện"),n("th",{rowspan:"2",scope:"col"},"Mã Xã"),n("th",{rowspan:"2",scope:"col"},"Thôn"),n("th",{rowspan:"2",scope:"col"},"Địa bàn"),n("th",{rowspan:"2",scope:"col"},"Hộ số"),n("th",{rowspan:"2",scope:"col",style:{"min-width":"180px"}},"Tên chủ hộ"),n("th",{rowspan:"2",scope:"col"},"Điện thoại"),n("th",{colspan:"4",class:"text-center"},"Quy mô"),n("th",{rowspan:"2",scope:"col"},"Hộ nuôi yến"),n("th",{rowspan:"2",scope:"col"},"BTV")]),n("tr",null,[n("th",{scope:"col",class:"text-center"},"Lợn"),n("th",{scope:"col",class:"text-center"},"Gà"),n("th",{scope:"col",class:"text-center"},"Vịt"),n("th",{scope:"col",class:"text-center"},"Ngan")])],-1)),n("tbody",null,[T.value.length===0?(h(),s("tr",rn,t[17]||(t[17]=[n("td",{colspan:"15",class:"text-center"},"Chưa có dữ liệu",-1)]))):Y("",!0),(h(!0),s(v,null,g(T.value,(a,m)=>(h(),s("tr",{key:m},[n("td",null,o(a.stt),1),n("td",null,o(a.maTinh),1),n("td",null,o(a.maHuyen),1),n("td",null,o(a.maXa),1),n("td",null,o(a.thon),1),n("td",null,o(a.diaBan),1),n("td",null,o(a.hoSo),1),n("td",null,o(a.tenChuHo),1),n("td",null,o(a.dienThoai),1),n("td",cn,o(a.quyMo.lon),1),n("td",dn,o(a.quyMo.ga),1),n("td",vn,o(a.quyMo.vit),1),n("td",gn,o(a.quyMo.ngan),1),n("td",pn,o(a.hoNuoiYen?"Có":"Không"),1),n("td",null,o(a.btv),1)]))),128))])])])])])]))}},Cn=E(Tn,[["__scopeId","data-v-17b8d09c"]]);export{Cn as default};
